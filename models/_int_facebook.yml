version: 2

models:
  - name: int_facebook_ad_insights
    tests:
    - dbt_utils.unique_combination_of_columns:
        combination_of_columns:
          - ad_id
          - ad_date
          - country_code

  - name: int_facebook_ad_creatives
    columns:
        - name: creative_id
          tests:
            - unique
            - not_null

  - name: int_facebook_ad_creatives_object
    columns:
        - name: creative_id
          tests:
            - unique
            - not_null

  - name: int_facebook_audiences
    columns:
        - name: audience_id
          tests:
            - unique
            - not_null

  - name: int_facebook_audiences_object
    columns:
        - name: audience_id
          tests:
            - unique
            - not_null

  - name: int_facebook_adset_audiences
    columns:
        - name: adset_id
          tests:
            - unique
            - not_null
          
        - name: audience_count
          tests:
            - accepted_values:
                values: [1]
                quote: false
